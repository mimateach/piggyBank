import{ZIndexUtils as t,DomHandler as e,UniqueComponentId as l,ConnectedOverlayScrollHandler as o}from"primevue/utils";function i(t){a(t.currentTarget)}function n(t){s(t.currentTarget)}function p(t){a(t.currentTarget)}function u(t){s(t.currentTarget)}function r(t){s(t.currentTarget)}function a(i){if(i.$_ptooltipDisabled)return;let n=function(t){const e=l()+"_tooltip";t.$_ptooltipId=e;let o=document.createElement("div");o.id=e;let i=document.createElement("div");i.className="p-tooltip-arrow",o.appendChild(i);let n=document.createElement("div");n.className="p-tooltip-text",t.$_ptooltipEscape?n.innerHTML=t.$_ptooltipValue:(n.innerHTML="",n.appendChild(document.createTextNode(t.$_ptooltipValue)));o.appendChild(n),document.body.appendChild(o),o.style.display="inline-block",t.$_ptooltipFitContent&&(o.style.width="fit-content");return o}(i);!function(t){const e=t.$_ptooltipModifiers;e.top?(g(t),h(t)&&(_(t),h(t)&&g(t))):e.left?($(t),h(t)&&(v(t),h(t)&&(g(t),h(t)&&(_(t),h(t)&&$(t))))):e.bottom?(_(t),h(t)&&(g(t),h(t)&&_(t))):(v(t),h(t)&&($(t),h(t)&&(g(t),h(t)&&(_(t),h(t)&&v(t)))))}(i),e.fadeIn(n,250),window.addEventListener("resize",(function t(){e.isTouchDevice()||s(i),this.removeEventListener("resize",t)})),function(t){t.$_ptooltipScrollHandler||(t.$_ptooltipScrollHandler=new o(t,(function(){s(t)}))),t.$_ptooltipScrollHandler.bindScrollListener()}(i),t.set("tooltip",n,i.$_ptooltipZIndex)}function s(t){c(t),function(t){t.$_ptooltipScrollHandler&&t.$_ptooltipScrollHandler.unbindScrollListener()}(t)}function d(t){return document.getElementById(t.$_ptooltipId)}function c(e){if(e){let l=d(e);l&&l.parentElement&&(t.clear(l),document.body.removeChild(l)),e.$_ptooltipId=null}}function f(t){let l=t.getBoundingClientRect();return{left:l.left+e.getWindowScrollLeft(),top:l.top+e.getWindowScrollTop()}}function v(t){m(t,"right");let l=d(t),o=f(t),i=o.left+e.getOuterWidth(t),n=o.top+(e.getOuterHeight(t)-e.getOuterHeight(l))/2;l.style.left=i+"px",l.style.top=n+"px"}function $(t){m(t,"left");let l=d(t),o=f(t),i=o.left-e.getOuterWidth(l),n=o.top+(e.getOuterHeight(t)-e.getOuterHeight(l))/2;l.style.left=i+"px",l.style.top=n+"px"}function g(t){m(t,"top");let l=d(t),o=f(t),i=o.left+(e.getOuterWidth(t)-e.getOuterWidth(l))/2,n=o.top-e.getOuterHeight(l);l.style.left=i+"px",l.style.top=n+"px"}function _(t){m(t,"bottom");let l=d(t),o=f(t),i=o.left+(e.getOuterWidth(t)-e.getOuterWidth(l))/2,n=o.top+e.getOuterHeight(t);l.style.left=i+"px",l.style.top=n+"px"}function m(t,e){let l=d(t);l.style.left="-999px",l.style.top="-999px",l.className=`p-tooltip p-component p-tooltip-${e} ${t.$_ptooltipClass||""}`}function h(t){let l=d(t),o=l.getBoundingClientRect(),i=o.top,n=o.left,p=e.getOuterWidth(l),u=e.getOuterHeight(l),r=e.getViewport();return n+p>r.width||n<0||i<0||i+u>r.height}function b(t){return e.hasClass(t,"p-inputwrapper")?e.findSingle(t,"input"):t}function y(t){return t.modifiers&&Object.keys(t.modifiers).length?t.modifiers:t.arg&&"object"==typeof t.arg?Object.entries(t.arg).reduce(((t,[e,l])=>("event"!==e&&"position"!==e||(t[l]=!0),t)),{}):{}}const C={beforeMount(t,e){let l=b(t);if(l.$_ptooltipModifiers=y(e),e.value){if("string"==typeof e.value)l.$_ptooltipValue=e.value,l.$_ptooltipDisabled=!1,l.$_ptooltipEscape=!1,l.$_ptooltipClass=null,l.$_ptooltipFitContent=!0;else if("object"==typeof e.value&&e.value){if(void 0===e.value.value||null===e.value.value||""===e.value.value.trim())return;l.$_ptooltipValue=e.value.value,l.$_ptooltipDisabled=!!e.value.disabled===e.value.disabled&&e.value.disabled,l.$_ptooltipEscape=!!e.value.escape===e.value.escape&&e.value.escape,l.$_ptooltipClass=e.value.class,l.$_ptooltipFitContent=!!e.value.fitContent!==e.value.fitContent||e.value.fitContent}l.$_ptooltipZIndex=e.instance.$primevue&&e.instance.$primevue.config&&e.instance.$primevue.config.zIndex.tooltip,function(t){t.$_ptooltipModifiers.focus?(t.addEventListener("focus",p),t.addEventListener("blur",u)):(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",n),t.addEventListener("click",r))}(l)}},unmounted(e){let l=b(e);c(l),function(t){t.$_ptooltipModifiers.focus?(t.removeEventListener("focus",p),t.removeEventListener("blur",u)):(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",n),t.removeEventListener("click",r))}(l),l.$_ptooltipScrollHandler&&(l.$_ptooltipScrollHandler.destroy(),l.$_ptooltipScrollHandler=null),t.clear(e)},updated(t,e){let l=b(t);if(l.$_ptooltipModifiers=y(e),e.value)if("string"==typeof e.value)l.$_ptooltipValue=e.value,l.$_ptooltipDisabled=!1,l.$_ptooltipEscape=!1,l.$_ptooltipClass=null;else if("object"==typeof e.value&&e.value){if(void 0===e.value.value||null===e.value.value||""===e.value.value.trim())return;l.$_ptooltipValue=e.value.value,l.$_ptooltipDisabled=!!e.value.disabled===e.value.disabled&&e.value.disabled,l.$_ptooltipEscape=!!e.value.escape===e.value.escape&&e.value.escape,l.$_ptooltipClass=e.value.class,l.$_ptooltipFitContent=!!e.value.fitContent!==e.value.fitContent||e.value.fitContent}}};export{C as default};
